<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina Learning Hub</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="app-container">
        
        <div id="modal-overlay" class="modal-overlay hidden" onclick="document.getElementById('modal-overlay').classList.add('hidden')">
            <div class="modal-content glass" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 id="modal-title">Modal Title</h2>
                    <button class="close-btn" onclick="document.getElementById('modal-overlay').classList.add('hidden')">&times;</button>
                </div>
                <div id="modal-body" class="modal-body">
                    </div>
                <div class="modal-footer">
                    <button id="modal-action-btn" class="primary-btn pulse hidden">Action</button>
                </div>
            </div>
        </div>

        <div id="hub-view" class="view active">
            
            <header class="app-header">
                <h1 class="logo">Lumina</h1>
                <p class="welcome-text">Welcome back, Explorer!</p>
                <button class="settings-btn" onclick="openSettingsModal()">
                    <span class="icon">‚öôÔ∏è</span> Settings
                </button>
            </header>

            <section id="process-section" class="input-section">
                <h3 class="section-header">üìö 1. Define Your Source</h3>
                
                <div class="input-group">
                    <label for="topic-name">Topic Name (e.g., Quantum Physics)</label>
                    <input type="text" id="topic-name" placeholder="Enter topic..." class="glass-input">
                </div>

                <div class="input-group">
                    <label for="age-range">Level:</label>
                    <div class="slider-container">
                        <input type="range" id="age-range" min="5" max="25" value="10">
                        <span id="age-val" class="level-indicator">10 yrs</span>
                    </div>
                </div>

                <div class="upload-area" onclick="document.getElementById('pdf-file').click()">
                    <input type="file" id="pdf-file" accept=".pdf" class="hidden">
                    <span id="file-status">Tap to Upload PDF</span>
                </div>

                <p id="ai-status" class="status-message">Ready to Analyze.</p>

                <button class="primary-btn" onclick="processAndLoad()">Build My Library</button>
            </section>
            
            <section id="action-section" class="input-section">
                <h3 class="section-header">‚ú® 2. Choose Your Mode</h3>
                <div id="action-tiles" class="action-tiles disabled"> 
                    <div class="tile purple" onclick="openQuizConfig()">
                        <span class="icon">üöÄ</span>
                        Instant Quiz
                    </div>
                    <div class="tile orange" onclick="startFlashcards()">
                        <span class="icon">üì∏</span>
                        Flashcards
                    </div>
                    <div class="tile blue" onclick="generateWorksheets()">
                        <span class="icon">üìù</span>
                        Worksheets
                    </div>
                </div>
            </section>

        </div> 
        
        <div id="quiz-view" class="view">
            <header class="quiz-header">
                <button class="exit-btn" onclick="openExitConfirmation()">Exit X</button>
                <div class="timer-display" id="timer">00:00</div>
                <button id="pause-btn" class="pause-btn" onclick="togglePause()">‚è∏Ô∏è</button>
            </header>
            <div class="progress-bar-shell">
                <div id="progress-fill" class="progress-bar-fill"></div>
            </div>
            
            <div id="quiz-content" class="quiz-content">
                </div>

            <footer class="quiz-footer">
                <button id="prev-btn" onclick="prevQuestion()" disabled>Prev</button>
                <button id="clear-btn" onclick="clearSelection()">
                    <span class="icon">üßπ</span> Clear
                </button>
                <button id="skip-btn" onclick="skipQuestion()">Skip</button>
                <button id="next-btn" class="main-action" onclick="handleNext()" disabled>Next</button>
            </footer>
        </div>

        <div id="review-view" class="view">
            <header class="app-header">
                <h2>üìä Session Review</h2>
            </header>
            <div class="review-stats glass">
                <p id="review-score">Score: 0 / 0</p>
                <p id="review-time">Total Time: 00:00</p>
            </div>
            
            <h3>Question Summary</h3>
            <div id="review-summary" class="review-summary">
                </div>
            
            <footer class="review-footer">
                <button class="primary-btn" onclick="retryWrongAnswers()">üîÑ Retry Incorrect Answers</button>
                <button class="secondary-btn" onclick="switchView('hub-view')">Back to Hub</button>
            </footer>
        </div>

    </div>

    <script src="app.js"></script>
</body>
</html>